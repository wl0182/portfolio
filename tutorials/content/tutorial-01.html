<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tutorial 01 ‚Äî Project setup</title>
    <meta name="description" content="Project bootstrapping with Spring Boot and PostgreSQL for the Restaurant App series." />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3Eüìò%3C/text%3E%3C/svg%3E" />
    <script>(function(){try{const t=localStorage.getItem('theme');const d=matchMedia('(prefers-color-scheme: dark)').matches;if(t==='dark'||(!t&&d))document.documentElement.classList.add('dark');}catch{}})();</script>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
      tailwind.config = { darkMode:'class', theme:{ extend:{ fontFamily:{ sans:["Inter var","Inter","ui-sans-serif","system-ui","-apple-system","Segoe UI","Roboto","Helvetica","Arial","Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"] } } } };
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css" />
    <link rel="stylesheet" href="../tutorials.css" />
  </head>
  <body class="bg-white text-slate-800 antialiased dark:bg-slate-950 dark:text-slate-100">
    <div aria-hidden="true" class="pointer-events-none fixed inset-0 -z-10"><div class="absolute inset-0 bg-gradient-to-br from-indigo-500/10 via-fuchsia-500/10 to-emerald-500/10 blur-2xl"></div></div>

    <header class="sticky top-0 z-20 backdrop-blur supports-[backdrop-filter]:bg-white/60 supports-[backdrop-filter]:dark:bg-slate-950/40 border-b border-slate-200/60 dark:border-slate-800/60">
      <div class="mx-auto flex max-w-7xl items-center justify-between gap-4 px-6 py-4">
        <a href="../../" class="group inline-flex items-center gap-3">
          <span class="grid h-9 w-9 place-items-center rounded-lg bg-indigo-600 text-white shadow-md shadow-indigo-600/30">WL</span>
          <div class="leading-tight">
            <div class="text-sm text-slate-500 dark:text-slate-400">Java Full Stack Developer</div>
            <div class="font-semibold">Wassim Lagnaoui</div>
          </div>
        </a>
        <nav class="hidden items-center gap-6 md:flex">
          <a href="../../#about" class="hover:text-indigo-600 dark:hover:text-indigo-400">About</a>
          <a href="../../blog/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Blog</a>
          <a href="../../#skills" class="hover:text-indigo-600 dark:hover:text-indigo-400">Skills</a>
          <a href="../../projects/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Projects</a>
          <a href="../" class="text-indigo-600 dark:text-indigo-400">Tutorials</a>
          <a href="../../course/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Courses</a>
        </nav>
        <button id="themeToggle" class="inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium shadow-sm hover:bg-slate-50 active:scale-95 dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800" aria-label="Toggle theme">
          <svg class="h-5 w-5 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 3v2m0 14v2M5.64 5.64l1.41 1.41M16.95 16.95l1.41 1.41M3 12h2m14 0h2M5.64 18.36l1.41-1.41M16.95 7.05l1.41-1.41"/><circle cx="12" cy="12" r="4"/></svg>
          <svg class="hidden h-5 w-5 dark:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>
      </div>
    </header>

    <main class="mx-auto max-w-7xl px-6 py-10">
      <header class="max-w-3xl">
        <h1 class="text-3xl font-extrabold tracking-tight sm:text-4xl">Tutorial 01: Project setup</h1>
        <p class="mt-2 text-slate-600 dark:text-slate-300">Spring Boot + PostgreSQL setup for the Restaurant App series.</p>
        <a href="../" class="mt-4 inline-block text-sm text-indigo-600 hover:underline dark:text-indigo-400">‚Üê Back to Tutorials</a>
      </header>

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert">
        <!-- Original content starts -->
        <h1>Project Bootstrapping: Spring Boot + PostgreSQL</h1>

<p>This short guide helps you bootstrap the application: pick the right Spring dependencies, set up PostgreSQL, and configure <code>application.yml</code> so the app connects to the database successfully.</p>

<hr/>

<h2>Step 1 ‚Äî Generate a Spring Boot project</h2>
<p>Use Spring Initializr (start.spring.io) with:</p>
<ul>
    <li>Project: Maven, Language: Java, Spring Boot: 3.x, Java: 17</li>
    <li>Dependencies:
        <ul>
            <li>Spring Web</li>
            <li>Spring Data JPA</li>
            <li>Validation</li>
            <li>Spring Security (if you plan to add auth later)</li>
            <li>PostgreSQL Driver</li>
            <li>Lombok (optional but recommended)</li>
            <li>Spring Boot DevTools (optional)</li>
        </ul>
    </li>
</ul>
<p>Download and unzip, or import directly into your IDE.</p>

<h3>If you need to add dependencies manually</h3>
<p>Ensure your <code>pom.xml</code> includes the following (only the relevant parts shown):</p>
<pre><code class="language-xml">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;
    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
  &lt;/dependency&gt;
  &lt;!-- Optional, useful in development --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
    &lt;optional&gt;true&lt;/optional&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>

<hr/>

<h2>Step 2 ‚Äî Install and prepare PostgreSQL</h2>
<h3>Option A: Local install</h3>
<ul>
    <li>macOS: <code>brew install postgresql</code>, then start the service.</li>
    <li>Windows/Linux: install from the official site (or your package manager).</li>
</ul>

<h3>Option B: Docker (quickest)</h3>
<pre><code class="language-bash">docker run --name restaurant_postgres -e POSTGRES_PASSWORD=your_password -p 5432:5432 -d postgres:14
</code></pre>

<h3>Create a database and user</h3>
<pre><code class="language-sql">-- inside psql (\c to connect), or any SQL client
CREATE DATABASE restaurant_db;
CREATE USER restaurant_user WITH ENCRYPTED PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE restaurant_db TO restaurant_user;
</code></pre>

<hr/>

<h2>Step 3 ‚Äî Configure Spring (YAML)</h2>
<p>Put the base configuration in <code>src/main/resources/application.yml</code> and keep secrets in an optional <code>application-local.yml</code> that is imported by the base file.</p>

<h3>application.yml</h3>
<pre><code class="language-yaml">spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/restaurant_db
    username: restaurant_user
  config:
    import: optional:application-local.yml

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
jwt:
  expiration: 86400000 # (1 day in ms)

server:
  port: 8080
</code></pre>

<h3>application-local.yml</h3>
<pre><code class="language-yaml">spring:
  datasource:
    password: ${POSTGRES_PASSWORD:default_db_password}
jwt:
  secret: ${JWT_SECRET:default_jwt_secret}
</code></pre>

<h3>Why this split?</h3>
<ul>
    <li><code>application.yml</code> is safe to commit and documents the connection details (without the password).</li>
    <li><code>application-local.yml</code> holds secrets and can read from environment variables; it‚Äôs optional and ignored in other environments.</li>
</ul>

<hr/>

<h2>Step 4 ‚Äî Run and verify</h2>
<ol>
    <li>Export environment variables (optional but recommended):
        <pre><code class="language-bash">export POSTGRES_PASSWORD=your_password
export JWT_SECRET=dev_jwt_secret
</code></pre>
    </li>
    <li>Start the app:
        <pre><code class="language-bash">./mvnw spring-boot:run
</code></pre>
    </li>
    <li>Watch the logs for a successful connection to PostgreSQL and Hibernate schema update messages.</li>
</ol>

<hr/>

<h2>Common issues</h2>
<ul>
    <li><strong>Connection refused</strong>: Check that PostgreSQL is running and that the URL/port are correct.</li>
    <li><strong>Auth errors</strong>: Ensure the DB user/password match what you created. If using Docker, the hostname in a multi-container setup may be <code>db</code> instead of <code>localhost</code>.</li>
    <li><strong>DDL auto-update</strong>: <code>ddl-auto: update</code> is for development. Plan migrations for production later.</li>
</ul>

<p>That‚Äôs it. Your application is now bootstrapped with the right dependencies, a running PostgreSQL, and a working YAML configuration.</p>
        <!-- Original content ends -->
      </section>

      <nav class="mt-12 flex items-center justify-between border-t border-slate-200/60 pt-6 dark:border-slate-800/60">
        <span class="inline-flex items-center gap-2 rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium opacity-50 dark:border-slate-700" aria-disabled="true">
          <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg>
          Previous
        </span>
        <a href="./tutorial-02.html" class="inline-flex items-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium shadow-sm hover:bg-slate-50 active:scale-95 dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800">
          Next
          <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
        </a>
      </nav>
    </main>

    <footer class="border-t border-slate-200/60 py-10 text-center text-sm text-slate-500 dark:border-slate-800/60 dark:text-slate-400">
      <div class="mx-auto max-w-7xl px-6">
        <p>¬© 2025 wassim lagnaoui. All rights reserved.</p>
      </div>
    </footer>

    <script>
      document.getElementById('themeToggle').addEventListener('click', function(){
        const r=document.documentElement; const d=r.classList.toggle('dark');
        try{localStorage.setItem('theme', d?'dark':'light');}catch{}
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
      if (window.Prism && Prism.plugins && Prism.plugins.autoloader) {
        Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1/components/';
        Prism.highlightAll();
      }
    </script>
  </body>
</html>

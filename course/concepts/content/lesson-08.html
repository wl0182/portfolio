<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lesson 08 - Exception Handling</title>
    <meta name="description" content="Java exception handling: try-catch-finally, throw/throws, custom exceptions, try-with-resources, and best practices." />
    <script>(function(){try{const t=localStorage.getItem('theme');const d=matchMedia('(prefers-color-scheme: dark)').matches;if(t==='dark'||(!t&&d))document.documentElement.classList.add('dark');}catch{}})();</script>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
      tailwind.config = { darkMode:'class', theme:{ extend:{ fontFamily:{ sans:["Inter var","Inter","ui-sans-serif","system-ui","-apple-system","Segoe UI","Roboto","Helvetica","Arial","Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"] } } } };
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css" />
    <link rel="stylesheet" href="../../../tutorials/tutorials.css" />
  </head>
  <body class="bg-white text-slate-800 antialiased dark:bg-slate-950 dark:text-slate-100">
    <div aria-hidden="true" class="pointer-events-none fixed inset-0 -z-10"><div class="absolute inset-0 bg-gradient-to-br from-indigo-500/10 via-fuchsia-500/10 to-emerald-500/10 blur-2xl"></div></div>

    <header class="z-20 backdrop-blur supports-[backdrop-filter]:bg-white/60 supports-[backdrop-filter]:dark:bg-slate-950/40 border-b border-slate-200/60 dark:border-slate-800/60">
      <div class="mx-auto flex max-w-7xl items-center justify-between gap-4 px-6 py-4">
        <a href="../../../" class="group inline-flex items-center gap-3">
          <span class="grid h-9 w-9 place-items-center rounded-lg bg-indigo-600 text-white shadow-md shadow-indigo-600/30">WL</span>
          <div class="leading-tight">
            <div class="text-sm text-slate-500 dark:text-slate-400">Java Full Stack Developer</div>
            <div class="font-semibold">Wassim Lagnaoui</div>
          </div>
        </a>
        <nav class="hidden items-center gap-6 md:flex">
          <a href="../../../#about" class="hover:text-indigo-600 dark:hover:text-indigo-400">About</a>
          <a href="../../../blog/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Blog</a>
          <a href="../../../#skills" class="hover:text-indigo-600 dark:hover:text-indigo-400">Skills</a>
          <a href="../../../projects/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Projects</a>
          <a href="../../../tutorials/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Tutorials</a>
          <a href="../../" class="text-indigo-600 dark:text-indigo-400">Courses</a>
        </nav>
        <button id="themeToggle" class="inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium shadow-sm hover:bg-slate-50 active:scale-95 dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800" aria-label="Toggle theme">
          <svg class="h-5 w-5 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 3v2m0 14v2M5.64 5.64l1.41 1.41M16.95 16.95l1.41 1.41M3 12h2m14 0h2M5.64 18.36l1.41-1.41M16.95 7.05l1.41-1.41"/><circle cx="12" cy="12" r="4"/></svg>
          <svg class="hidden h-5 w-5 dark:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>
      </div>
    </header>

    <main class="mx-auto max-w-7xl px-6 py-10">
      <div class="lg:flex lg:gap-8">
        <aside class="hidden lg:block lg:w-72">


          <!-- Table of Contents -->
          <nav class="sticky top-24 rounded-xl border border-slate-200/60 bg-white/60 p-4 shadow-sm backdrop-blur dark:border-slate-800/60 dark:bg-slate-900/40" aria-label="Table of contents">
            <h2 class="mb-3 text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400">On this page</h2>
            <ol class="space-y-1 text-sm">
              <li><a href="#introduction" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Introduction</a></li>
              <li><a href="#understanding-exceptions" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Understanding Exceptions</a></li>
              <li><a href="#try-catch-finally" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">try-catch-finally</a></li>
              <li><a href="#throwing-exceptions" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Throwing Exceptions</a></li>
              <li><a href="#custom-exceptions" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Custom Exceptions</a></li>
              <li><a href="#try-with-resources" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Try-with-Resources</a></li>
              <li><a href="#best-practices" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Exception Handling Best Practices</a></li>
              <li><a href="#summary" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Summary</a></li>
              <li><a href="#programming-challenge" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Programming Challenge</a></li>
            </ol>
          </nav>
        </aside>
        <div class="min-w-0 flex-1">
      <div class="mb-6">
        <a href="../index.html" class="inline-block text-sm text-indigo-600 hover:underline dark:text-indigo-400">‚Üê Back to Concepts</a>
      </div>
      <header class="mx-auto max-w-3xl text-center">
        <h1 class="text-center text-3xl font-extrabold tracking-tight sm:text-4xl">Lesson 08: Exception Handling</h1>
        <p class="mt-2 text-slate-600 dark:text-slate-300">Master Java exception handling to write robust, error-resistant applications that gracefully handle unexpected situations.</p>
      </header>

      <section id="introduction" class="prose prose-slate mt-6 max-w-none dark:prose-invert">
        <h2>Introduction</h2>
        <p>In real-world applications, things go wrong: files might not exist, network connections can fail, users enter invalid data, or calculations result in division by zero. Without proper exception handling, these problems would crash your program and frustrate users. Exception handling in Java provides a structured way to detect, handle, and recover from errors gracefully. Instead of your application suddenly stopping with a cryptic error message, you can catch problems, provide meaningful feedback, clean up resources, and keep your program running smoothly. This lesson teaches you how to use try-catch blocks, create custom exceptions, handle resources safely, and follow best practices that make your code resilient and professional.</p>
      </section>

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert" id="understanding-exceptions">
        <h2>Understanding Exceptions</h2>
        <h3>Definition</h3>
        <p>An exception is an event that occurs during program execution that disrupts the normal flow of instructions. When an error condition arises, Java creates an exception object containing information about the error and "throws" it up the call stack. Exceptions can be checked (must be handled) or unchecked (runtime exceptions that indicate programming errors).</p>
        <h3>Analogy</h3>
        <p>Think of exceptions like fire alarms in a building. When something goes wrong (smoke detected), the alarm system alerts everyone, indicates where it happened (stack trace), and activates emergency procedures (exception handling). Some alarms require immediate action (checked exceptions), while others indicate user errors like burnt toast (unchecked exceptions).</p>
        <h3>Examples</h3>
        <p><strong>Division by zero:</strong></p>
        <pre><code class="language-java">int result = 10 / 0; // throws ArithmeticException
</code></pre>
        <p><strong>Invalid array access:</strong></p>
        <pre><code class="language-java">int[] numbers = {1, 2, 3};
int value = numbers[5]; // throws ArrayIndexOutOfBoundsException
</code></pre>
        <p><strong>Checked vs Unchecked:</strong></p>
        <pre><code class="language-java">new FileReader("data.txt"); // checked: IOException
List<String> list = List.of("a", "b");
list.get(5); // unchecked: IndexOutOfBoundsException
</code></pre>
      </section>

      <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert" id="try-catch-finally">
        <h2>try-catch-finally</h2>
        <h3>Definition</h3>
        <p>The try-catch-finally structure handles exceptions gracefully. The try block contains code that might throw; catch handles specific types; finally always executes for cleanup.</p>
        <h3>Analogy</h3>
        <p>Like setting up camp: try to light a fire, catch problems with backup plans, and finally put food away and secure gear no matter what.</p>
        <h3>Examples</h3>
        <p><strong>Basic try-catch:</strong></p>
        <pre><code class="language-java">try {
  int result = 10 / 0;
} catch (ArithmeticException e) {
  System.out.println("Cannot divide by zero!");
}
</code></pre>
        <p><strong>Multiple catch (specific to general):</strong></p>
        <pre><code class="language-java">try {
  String content = Files.readString(Path.of(fileName));
} catch (NoSuchFileException e) {
  System.out.println("File not found: " + fileName);
} catch (IOException e) {
  System.out.println("Error reading file: " + e.getMessage());
}
</code></pre>
        <p><strong>finally for cleanup:</strong></p>
        <pre><code class="language-java">FileInputStream in = null;
try {
  in = new FileInputStream("data.txt");
  // process
} catch (IOException e) {
  System.out.println("File error: " + e.getMessage());
} finally {
  if (in != null) in.close();
}
</code></pre>
      </section>

      <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert" id="throwing-exceptions">
        <h2>Throwing Exceptions</h2>
        <h3>Definition</h3>
        <p>Use throw to signal errors and throws to declare checked exceptions that callers must handle. This creates a clear error contract.</p>
        <h3>Analogy</h3>
        <p>Like a quality inspector stopping a production line and escalating with a report so supervisors decide what to do.</p>
        <h3>Examples</h3>
        <p><strong>Validate and throw:</strong></p>
        <pre><code class="language-java">if (age < 0) throw new IllegalArgumentException("Age cannot be negative");
</code></pre>
        <p><strong>Method declares throws:</strong></p>
        <pre><code class="language-java">public void readFile(String name) throws IOException {
  Files.readString(Path.of(name));
}
</code></pre>
        <p><strong>Caller handles declared exception:</strong></p>
        <pre><code class="language-java">try {
  readFile("data.txt");
} catch (IOException e) {
  System.out.println("Failed to read file");
}
</code></pre>
        <p><strong>Rethrow with context:</strong></p>
        <pre><code class="language-java">try {
  processOrder(order);
} catch (Exception e) {
  throw new IllegalStateException("Failed to process order " + order.getId(), e);
}
</code></pre>
      </section>

      <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert" id="custom-exceptions">
        <h2>Custom Exceptions</h2>
        <h3>Definition</h3>
        <p>Create domain-specific exception types to make errors clearer. Extend RuntimeException (unchecked) or Exception (checked).</p>
        <h3>Analogy</h3>
        <p>Like departments using specific error codes (InvalidAddress, OutOfStock) so issues are obvious and routed correctly.</p>
        <h3>Examples</h3>
        <p><strong>Simple custom exception:</strong></p>
        <pre><code class="language-java">class InvalidEmailException extends RuntimeException {
  public InvalidEmailException(String msg) { super(msg); }
}
</code></pre>
        <p><strong>Throw and catch:</strong></p>
        <pre><code class="language-java">if (!email.contains("@")) throw new InvalidEmailException("Email must contain @");
try { validateUser(user); } catch (InvalidEmailException e) { showEmailError(e.getMessage()); }
</code></pre>
        <p><strong>Custom with extra data:</strong></p>
        <pre><code class="language-java">class InsufficientFundsException extends RuntimeException {
  final double requested, available;
  public InsufficientFundsException(double r, double a){
    super("Insufficient funds: requested " + r + ", available " + a);
    this.requested = r; this.available = a;
  }
}
</code></pre>
      </section>

      <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert" id="try-with-resources">
        <h2>Try-with-Resources</h2>
        <h3>Definition</h3>
        <p>try-with-resources automatically closes resources that implement AutoCloseable, preventing leaks without verbose finally blocks.</p>
        <h3>Analogy</h3>
        <p>Like smart lights that always turn off when you leave the room, even during emergencies.</p>
        <h3>Examples</h3>
        <p><strong>Read file safely:</strong></p>
        <pre><code class="language-java">try (BufferedReader r = Files.newBufferedReader(path)) {
  return r.readLine();
}
</code></pre>
        <p><strong>Database query:</strong></p>
        <pre><code class="language-java">try (Connection c = DriverManager.getConnection(url);
     Statement s = c.createStatement()) {
  ResultSet rs = s.executeQuery("SELECT * FROM users");
  return processResults(rs);
}
</code></pre>
        <p><strong>Custom AutoCloseable:</strong></p>
        <pre><code class="language-java">class TimedOperation implements AutoCloseable {
  long start = System.currentTimeMillis();
  public void close(){
    System.out.println("Operation took: " + (System.currentTimeMillis()-start) + "ms");
  }
}
</code></pre>
      </section>

      <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert" id="best-practices">
        <h2>Exception Handling Best Practices</h2>
        <h3>Definition</h3>
        <p>Write code that fails gracefully, communicates clearly, and cleans up safely. Catch specific types, avoid empty catches, use try-with-resources, fail fast, and don't use exceptions for normal control flow.</p>
        <h3>Analogy</h3>
        <p>Like hospital emergency protocols: specific responses for each situation, documentation, no ignored emergencies, and automatic maintenance.</p>
        <h3>Examples</h3>
        <p><strong>Catch specific exceptions first:</strong></p>
        <pre><code class="language-java">try {
  processFile(fileName);
} catch (FileNotFoundException e) {
  createDefaultFile(fileName);
} catch (IOException e) {
  logError("File processing failed", e);
}
</code></pre>
        <p><strong>Never ignore exceptions:</strong></p>
        <pre><code class="language-java">try { saveImportantData(); } catch (IOException e) {
  logger.error("Failed to save data", e);
  throw new RuntimeException("Data save failed", e);
}
</code></pre>
        <p><strong>Don't use exceptions for control flow:</strong></p>
        <pre><code class="language-java">if (index >= 0 && index < array.length) return array[index];
else return defaultValue;
</code></pre>
      </section>

      <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert" id="summary">
        <h2>Summary</h2>
        <p>Exception handling is essential for building robust Java applications that gracefully handle errors and unexpected situations. You've learned to use try-catch-finally blocks to handle exceptions, throw your own exceptions with meaningful messages, create custom exception types for specific business errors, and use try-with-resources for automatic cleanup. Following best practices like catching specific exceptions, providing helpful error messages, and failing fast on programming errors will make your applications more reliable and easier to debug. In the next lesson, you'll apply these exception handling skills when working with File I/O operations, where proper error handling is crucial for dealing with missing files, permission issues, and other I/O problems.</p>
      </section>

      <section class="prose prose-slate mt-8 max-w-none dark:prose-invert" id="programming-challenge">
        <h2>Programming Challenge</h2>
        <div class="rounded-lg border border-slate-200 bg-slate-50 p-6 dark:border-slate-700 dark:bg-slate-800">
          <h3 class="mt-0">Challenge: Robust File Processor</h3>
          <p><strong>Task:</strong> Create a file processing system that reads student data from a CSV file and handles various error conditions gracefully.</p>

          <p><strong>Requirements:</strong></p>
          <ol>
            <li>Create a custom exception <code>StudentDataException</code> that includes the line number and invalid data</li>
            <li>Create a <code>Student</code> class with: name, age, grade (A-F), and email</li>
            <li>Write a method <code>processStudentFile(String filename)</code> that:</li>
            <ul>
              <li>Uses try-with-resources to read the CSV file safely</li>
              <li>Validates each student record and throws <code>StudentDataException</code> for invalid data</li>
              <li>Handles <code>FileNotFoundException</code> and <code>IOException</code> appropriately</li>
              <li>Returns a list of valid students and logs errors for invalid records</li>
            </ul>
            <li>Create a method that demonstrates both handling and propagating exceptions</li>
            <li>Include proper error messages with context (line numbers, invalid values)</li>
          </ol>

          <p><strong>Test scenarios:</strong></p>
          <ul>
            <li>Missing file</li>
            <li>Invalid age (negative or non-numeric)</li>
            <li>Invalid grade (not A-F)</li>
            <li>Invalid email format</li>
            <li>Empty or malformed lines</li>
          </ul>

          <p><strong>Learning Goals:</strong> Practice custom exceptions, try-with-resources, exception propagation, and comprehensive error handling in a realistic file processing scenario.</p>
        </div>
      </section>

      <nav class="mt-12 flex items-center justify-between border-t border-slate-200/60 pt-6 dark:border-slate-800/60">
        <a href="lesson-07.html" class="inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium shadow-sm hover:bg-slate-50 active:scale-95 dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800">Previous</a>
        <a href="lesson-09.html" class="inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium shadow-sm hover:bg-slate-50 active:scale-95 dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800">Next</a>
      </nav>
    </main>

    <script>
      document.getElementById('themeToggle').addEventListener('click', function(){
        const r=document.documentElement; const d=r.classList.toggle('dark');
        try{localStorage.setItem('theme', d?'dark':'light');}catch{}
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
      if (window.Prism && Prism.plugins && Prism.plugins.autoloader) {
        Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1/components/';
        Prism.highlightAll();
      }
    </script>
  </body>
</html>

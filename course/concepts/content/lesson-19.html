<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lesson 19 - Introduction to Microservices</title>
    <meta name="description" content="Introduction to microservices architecture: understanding distributed systems, microservices design principles, service discovery, and the challenges of building scalable microservices applications." />
    <script>(function(){try{const t=localStorage.getItem('theme');const d=matchMedia('(prefers-color-scheme: dark)').matches;if(t==='dark'||(!t&&d))document.documentElement.classList.add('dark');}catch{}})();</script>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
      tailwind.config = { darkMode:'class', theme:{ extend:{ fontFamily:{ sans:["Inter var","Inter","ui-sans-serif","system-ui","-apple-system","Segoe UI","Roboto","Helvetica","Arial","Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"] } } } };
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css" />
    <link rel="stylesheet" href="../../../tutorials/tutorials.css" />
  </head>
  <body class="bg-white text-slate-800 antialiased dark:bg-slate-950 dark:text-slate-100">
    <div aria-hidden="true" class="pointer-events-none fixed inset-0 -z-10"><div class="absolute inset-0 bg-gradient-to-br from-indigo-500/10 via-fuchsia-500/10 to-emerald-500/10 blur-2xl"></div></div>

    <header class="z-20 backdrop-blur supports-[backdrop-filter]:bg-white/60 supports-[backdrop-filter]:dark:bg-slate-950/40 border-b border-slate-200/60 dark:border-slate-800/60">
      <div class="mx-auto flex max-w-7xl items-center justify-between gap-4 px-6 py-4">
        <a href="../../../" class="group inline-flex items-center gap-3">
          <span class="grid h-9 w-9 place-items-center rounded-lg bg-indigo-600 text-white shadow-md shadow-indigo-600/30">WL</span>
          <div class="leading-tight">
            <div class="text-sm text-slate-500 dark:text-slate-400">Java Full Stack Developer</div>
            <div class="font-semibold">Wassim Lagnaoui</div>
          </div>
        </a>
        <nav class="hidden items-center gap-6 md:flex">
          <a href="../../../#about" class="hover:text-indigo-600 dark:hover:text-indigo-400">About</a>
          <a href="../../../blog/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Blog</a>
          <a href="../../../#skills" class="hover:text-indigo-600 dark:hover:text-indigo-400">Skills</a>
          <a href="../../../projects/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Projects</a>
          <a href="../../../tutorials/" class="hover:text-indigo-600 dark:hover:text-indigo-400">Tutorials</a>
          <a href="../../" class="text-indigo-600 dark:text-indigo-400">Courses</a>
        </nav>
        <button id="themeToggle" class="inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium shadow-sm hover:bg-slate-50 active:scale-95 dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800" aria-label="Toggle theme">
          <svg class="h-5 w-5 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 3v2m0 14v2M5.64 5.64l1.41 1.41M16.95 16.95l1.41 1.41M3 12h2m14 0h2M5.64 18.36l1.41-1.41M16.95 7.05l1.41-1.41"/><circle cx="12" cy="12" r="4"/></svg>
          <svg class="hidden h-5 w-5 dark:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>
      </div>
    </header>

    <main class="mx-auto max-w-7xl px-6 py-10">
      <div class="lg:flex lg:gap-8">
        <aside class="hidden lg:block lg:w-72">
          <nav class="sticky top-8 rounded-xl border border-slate-200/60 bg-white/60 p-4 shadow-sm backdrop-blur dark:border-slate-800/60 dark:bg-slate-900/40" aria-label="Table of contents">
            <h2 class="mb-3 text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400">On this page</h2>
            <ol class="space-y-1 text-sm">
              <li><a href="#introduction" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Introduction</a></li>
              <li><a href="#understanding-microservices" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Understanding Microservices</a></li>
              <li><a href="#monolith-vs-microservices" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Monolith vs Microservices</a></li>
              <li><a href="#microservice-design-principles" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Microservice Design Principles</a></li>
              <li><a href="#service-discovery" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Service Discovery</a></li>
              <li><a href="#distributed-challenges" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Distributed Challenges</a></li>
              <li><a href="#spring-cloud-introduction" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Spring Cloud Introduction</a></li>
              <li><a href="#summary" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Summary</a></li>
              <li><a href="#programming-challenge" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Programming Challenge</a></li>
              <li><a href="#quiz" class="block rounded-md px-3 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-800/60">Quiz</a></li>
            </ol>
          </nav>
        </aside>
        <div class="min-w-0 flex-1">
          <div class="mb-6">
            <a href="../index.html" class="inline-block text-sm text-indigo-600 hover:underline dark:text-indigo-400">‚Üê Back to Concepts</a>
          </div>
          <header class="mx-auto max-w-3xl text-center">
            <h1 class="text-center text-3xl font-extrabold tracking-tight sm:text-4xl">Lesson 19: Introduction to Microservices</h1>
            <p class="mt-2 text-slate-600 dark:text-slate-300">Discover microservices architecture fundamentals: understanding distributed systems, design principles, service discovery, and the challenges of building scalable microservices applications.</p>
          </header>

          <section id="introduction" class="prose prose-slate mt-6 max-w-none dark:prose-invert">
            <h2>Introduction</h2>
            <p>As applications grow in complexity and scale, traditional monolithic architectures can become limitations rather than foundations. Microservices represent a fundamental shift from building single large applications to creating ecosystems of small, focused services that work together to deliver complex functionality. This architectural approach enables teams to develop, deploy, and scale different parts of an application independently, leading to greater agility and resilience. However, microservices also introduce new challenges around service coordination, data consistency, and distributed system complexity. This lesson introduces you to the fundamental concepts of microservices architecture, showing how this approach enables massive scalability while presenting new challenges that modern tools like Spring Cloud help solve. You'll understand when to choose microservices over monoliths, learn key design principles, and explore the tools and patterns that make distributed systems manageable.</p>
          </section>

          <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

          <section id="understanding-microservices" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Understanding Microservices</h2>
            <h3>Definition</h3>
            <ul>
                <li>Microservices architecture structures applications as collections of small, independent services that communicate over well-defined APIs.</li>
                <li>Each microservice is responsible for a specific business capability, can be developed and deployed independently, and typically owns its data storage.</li>
                <li>This architectural style enables teams to work autonomously, choose appropriate technologies for each service, and scale different parts of the system independently based on demand.</li>
                <li>Microservices promote organizational scalability and technological diversity while requiring sophisticated coordination and operational practices.</li>
            </ul>

            <h3>Analogy</h3>
            <p>Microservices architecture is like transitioning from a traditional department store to a modern shopping mall with specialized boutique shops. In a department store (monolith), everything is under one roof with shared infrastructure, centralized management, and uniform policies, but changes require coordinating across the entire store, and if one section has problems, it can affect the whole operation. A shopping mall (microservices) has many independent stores, each specializing in what they do best - a bookstore, electronics shop, clothing boutique, and food court. Each store has its own management, inventory systems, operating hours, and customer service approach. They can renovate, change suppliers, or adjust pricing independently without affecting other stores. Customers can visit just the stores they need, and the mall can add new shops or remove failing ones without disrupting the entire complex. However, the mall needs shared infrastructure like parking, security, and directory systems, plus coordination for things like holiday hours and promotional events. This is more complex to manage than a single store, but it provides much more flexibility and resilience.</p>

            <h3>Examples</h3>
            <p><strong>Microservice structure:</strong></p>
            <pre><code class="language-java">// Main application class for a microservice
// Each microservice has its own main class and runs independently
@SpringBootApplication
public class UserServiceApplication {
    public static void main(String[] args) {
        SpringApplication.run(UserServiceApplication.class, args);  // Bootstrap this microservice
    }
}
</code></pre>

            <p><strong>Service-specific controller:</strong></p>
            <pre><code class="language-java">// Controller that only handles user-related operations
// Microservice follows single responsibility principle
@RestController
@RequestMapping("/users")
public class UserController {
    // Only handles user-related operations - no orders, payments, etc.
    // Each microservice focuses on one business domain
}
</code></pre>

            <p><strong>Independent database:</strong></p>
            <pre><code class="language-properties"># Each microservice has its own database
# user-service connects to user-specific database
spring.datasource.url=jdbc:mysql://user-db:3306/users
spring.application.name=user-service  # Service identifier for discovery
</code></pre>

            <p><strong>Service communication:</strong></p>
            <pre><code class="language-java">// Feign client for inter-service communication
// Declarative way to call other microservices via HTTP
@FeignClient(name = "order-service")  // Target service name for service discovery
public interface OrderServiceClient {
    @GetMapping("/orders/user/{userId}")
    List<Order> getUserOrders(@PathVariable Long userId);  // Call order-service API
}
</code></pre>
          </section>

          <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

          <section id="monolith-vs-microservices" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Monolith vs Microservices</h2>
            <h3>Definition</h3>
            <ul>
                <li>Monolithic architecture builds applications as single deployable units where all components are interconnected and interdependent, while microservices architecture decomposes applications into small, independent services.</li>
                <li>Monoliths are simpler to develop, test, and deploy initially, but become harder to scale and modify as they grow.</li>
                <li>Microservices offer greater flexibility and scalability but introduce complexity in service coordination, data consistency, and operational overhead.</li>
                <li>The choice depends on team size, scalability requirements, and organizational maturity.</li>
            </ul>

            <h3>Analogy</h3>
            <p>The difference between monoliths and microservices is like comparing a Swiss Army knife to a professional toolbox. A Swiss Army knife (monolith) has everything you need in one compact, integrated unit - knife, scissors, screwdriver, and bottle opener all folded into a single tool. It's perfect for simple tasks, easy to carry, and you never lose pieces. However, each tool is smaller and less specialized than dedicated tools, and if one part breaks, the whole knife might be unusable. A professional toolbox (microservices) contains many specialized tools - each designed for specific tasks and potentially made by different manufacturers. You can replace individual tools, add new ones as needed, and use the best tool for each job. However, you need to organize the toolbox, might need multiple tools for complex tasks, and it requires more space and planning to transport. For simple home repairs, the Swiss Army knife is perfect, but for professional construction work, you need the specialized toolbox despite its complexity.</p>

            <h3>Examples</h3>
            <p><strong>Monolithic application structure:</strong></p>
            <pre><code class="language-java">// Traditional monolithic project structure
// All functionality packaged in single deployable unit
‚îú‚îÄ‚îÄ controllers/     // All controllers in one application
‚îú‚îÄ‚îÄ services/        // All business logic together
‚îú‚îÄ‚îÄ repositories/    // All data access in one place
‚îî‚îÄ‚îÄ models/          // All domain models together
</code></pre>

            <p><strong>Microservices structure:</strong></p>
            <pre><code class="language-java">// Microservices project structure - separate applications
// Each service is independently deployable
user-service/        // Handles user management only
order-service/       // Handles order processing only
payment-service/     // Handles payment processing only
notification-service/ // Handles notifications only
</code></pre>

            <p><strong>Monolith deployment:</strong></p>
            <pre><code class="language-bash"># Single JAR deployment for monolithic application
# One command deploys entire application
java -jar monolith-app.jar
</code></pre>

            <p><strong>Microservices deployment:</strong></p>
            <pre><code class="language-bash"># Multiple service deployment using containers
# Each service deployed and scaled independently
docker-compose up              # Deploys multiple services with Docker
kubectl apply -f microservices.yaml  # Kubernetes deployment
</code></pre>
          </section>

          <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

          <section id="microservice-design-principles" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Microservice Design Principles</h2>
            <h3>Definition</h3>
            <ul>
                <li>Microservice design follows key principles: single responsibility (each service does one thing well), autonomous teams (services owned by independent teams), decentralized governance (teams choose their own technologies), fault isolation (failures don't cascade), and evolutionary design (services can evolve independently).</li>
                <li>These principles ensure that microservices deliver their promised benefits of scalability, flexibility, and team autonomy while avoiding the pitfalls of distributed system complexity.</li>
            </ul>

            <h3>Analogy</h3>
            <p>Microservice design principles are like the rules for organizing an effective food truck festival. Each truck (service) specializes in one type of cuisine and operates independently with its own menu, staff, and cooking equipment (single responsibility). Each truck owner makes their own decisions about ingredients, pricing, and operating hours without needing approval from festival organizers (decentralized governance). If one truck breaks down or runs out of food, customers can still eat at other trucks (fault isolation). Truck owners can experiment with new recipes, upgrade equipment, or change their concept without affecting other trucks (evolutionary design). The festival provides shared infrastructure like electricity and waste management, but each truck maintains its independence. This creates a diverse, resilient food scene where innovation thrives, popular concepts can expand, and poor performers can be replaced without disrupting the entire festival.</p>

            <h3>Examples</h3>
            <p><strong>Single responsibility service:</strong></p>
            <pre><code class="language-java">// Payment service that only handles payment processing
// Follows single responsibility principle - does one thing well
@RestController
public class PaymentController {
    // Only handles payment processing, nothing else
    @PostMapping("/process")
    public PaymentResult processPayment(@RequestBody PaymentRequest request) {
        return paymentService.process(request);  // Focused on payment logic only
    }
}
</code></pre>

            <p><strong>Independent data storage:</strong></p>
            <pre><code class="language-properties"># Each service owns its data - database per service pattern
# Services cannot directly access other services' databases
user-service.datasource.url=jdbc:mysql://user-db/users      # User service database
order-service.datasource.url=jdbc:postgres://order-db/orders # Order service database
</code></pre>

            <p><strong>Technology diversity:</strong></p>
            <pre><code class="language-java">// Different services can use different technologies
// Teams choose the best tool for their specific domain
// User service in Java - good for business logic
// Notification service in Node.js - good for real-time features
// Analytics service in Python - good for data processing
// Each team chooses the best technology for their needs
</code></pre>

            <p><strong>Fault isolation:</strong></p>
            <pre><code class="language-java">// Circuit breaker pattern prevents cascade failures
// If recommendation service fails, it doesn't break the whole system
@HystrixCommand(fallbackMethod = "fallbackRecommendation")
public List<Product> getRecommendations(Long userId) {
    return recommendationService.getRecommendations(userId);  // May fail
}

// Fallback method provides default behavior when service fails
public List<Product> fallbackRecommendation(Long userId) {
    return Collections.emptyList();  // Safe default when service is down
}
</code></pre>
          </section>

          <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

          <section id="service-discovery" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Service Discovery</h2>
            <h3>Definition</h3>
            <ul>
                <li>Service discovery is the mechanism by which services find and communicate with each other in a microservices architecture.</li>
                <li>Since services can be deployed on different servers and ports, and instances can start, stop, or move dynamically, services need a way to locate each other automatically.</li>
                <li>Service discovery systems maintain a registry of available services and their locations, enabling services to find dependencies without hardcoded addresses.</li>
                <li>This supports dynamic scaling, fault tolerance, and simplified configuration management.</li>
            </ul>

            <h3>Analogy</h3>
            <p>Service discovery is like the directory system in a large corporate campus with multiple buildings and departments that frequently reorganize. Instead of memorizing that the IT department is in Building 3, Floor 2, Room 205, you consult the dynamic directory system that always knows current locations. When the IT department moves to a new building or adds satellite offices, the directory updates automatically. Employees don't need to know physical addresses - they just look up "IT Support" and get directed to the right place. The directory system also knows if a department is temporarily unavailable (like during a move) and can redirect requests to backup locations. This allows the organization to reorganize, expand, or relocate departments without disrupting daily operations, because everyone always knows how to find the services they need through the central directory system.</p>

            <h3>Examples</h3>
            <p><strong>Eureka service registration:</strong></p>
            <pre><code class="language-properties"># Service registers itself with Eureka discovery server
# Other services can find this service by name
spring.application.name=user-service  # Service identifier
eureka.client.service-url.defaultZone=http://eureka-server:8761/eureka  # Discovery server URL
</code></pre>

            <p><strong>Service discovery client:</strong></p>
            <pre><code class="language-java">// Programmatically discover other services
// Get list of available instances for a service
@Autowired
private DiscoveryClient discoveryClient;

// Find all instances of order-service
List<ServiceInstance> instances = discoveryClient.getInstances("order-service");
</code></pre>

            <p><strong>Load balanced service call:</strong></p>
            <pre><code class="language-java">// RestTemplate with automatic load balancing
// @LoadBalanced enables client-side load balancing
@LoadBalanced
@Bean
public RestTemplate restTemplate() {
    return new RestTemplate();  // Automatically load balances requests
}
</code></pre>

            <p><strong>Dynamic service lookup:</strong></p>
            <pre><code class="language-java">// Call service by name instead of hardcoded URL
// Service discovery resolves "order-service" to actual instance
String response = restTemplate.getForObject(
    "http://order-service/orders/{id}",  // Service name, not IP address
    String.class,
    orderId
);
</code></pre>
          </section>

          <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

          <section id="distributed-challenges" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Distributed Challenges</h2>
            <h3>Definition</h3>
            <ul>
                <li>Microservices introduce distributed system challenges that don't exist in monolithic applications: network latency and failures, data consistency across services, distributed transactions, service versioning, monitoring and debugging across multiple services, and the complexity of testing distributed workflows.</li>
                <li>These challenges require new tools, patterns, and practices like circuit breakers, distributed tracing, eventual consistency, and comprehensive logging to build reliable distributed systems.</li>
            </ul>

            <h3>Analogy</h3>
            <p>Distributed system challenges are like the complexities that arise when transitioning from a single-location restaurant to a restaurant chain across multiple cities. In a single restaurant, if the kitchen runs out of ingredients, they can quickly check the walk-in cooler or send someone to the local market. Communication is instant, inventory is visible, and coordination is simple. With a restaurant chain, each location has its own inventory, staff, and local conditions. If one location runs out of a key ingredient, they can't just walk to another kitchen - they need to coordinate deliveries, check availability across locations, and potentially modify menus independently. A power outage in one city doesn't affect other locations, but it complicates coordination. Customer orders might involve multiple locations (like catering from several branches), requiring careful orchestration. The chain needs sophisticated systems for inventory management, quality consistency, staff training, and performance monitoring across all locations. While this distributed approach enables serving more customers and resilience against local problems, it requires much more sophisticated management and coordination systems than a single restaurant.</p>

            <h3>Examples</h3>
            <p><strong>Network failure handling:</strong></p>
            <pre><code class="language-java">// Retry mechanism for handling transient network failures
// Automatically retries failed calls up to 3 times
@Retryable(value = {ConnectException.class}, maxAttempts = 3)
public String callExternalService() {
    return externalServiceClient.getData();  // May fail due to network issues
}
</code></pre>

            <p><strong>Circuit breaker pattern:</strong></p>
            <pre><code class="language-java">// Circuit breaker prevents cascade failures in distributed systems
// Falls back to default response when service is consistently failing
@HystrixCommand(fallbackMethod = "defaultResponse")
public String riskyServiceCall() {
    return externalService.call();  // May be slow or failing
}

// Fallback method provides alternative when circuit is open
public String defaultResponse() {
    return "Service temporarily unavailable";  // Safe default response
}
</code></pre>

            <p><strong>Distributed tracing:</strong></p>
            <pre><code class="language-java">// Add tracing to track requests across multiple services
// Helps debug issues in distributed systems
@NewSpan("user-lookup")  // Create new span for tracing
public User findUser(@SpanTag("userId") Long id) {
    return userRepository.findById(id);  // This operation will be traced
}
</code></pre>

            <p><strong>Eventual consistency:</strong></p>
            <pre><code class="language-java">// Order placed immediately, inventory updated asynchronously
// Demonstrates eventual consistency in distributed systems
@EventListener
public void onOrderPlaced(OrderPlacedEvent event) {
    // Inventory update happens later, not immediately
    inventoryService.reserveAsync(event.getItems());  // Async processing
}
</code></pre>
          </section>

          <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

          <section id="spring-cloud-introduction" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Spring Cloud Introduction</h2>
            <h3>Definition</h3>
            <ul>
                <li>Spring Cloud is a collection of tools and frameworks that simplify building distributed systems and microservices.</li>
                <li>It provides solutions for common distributed system patterns like service discovery (Eureka), circuit breakers (Hystrix), API gateways (Gateway), distributed configuration (Config Server), and distributed tracing (Sleuth).</li>
                <li>Spring Cloud integrates seamlessly with Spring Boot, providing production-ready solutions for the challenges of microservices architecture while maintaining the simplicity and conventions that make Spring Boot popular.</li>
            </ul>

            <h3>Analogy</h3>
            <p>Spring Cloud is like a comprehensive urban planning and infrastructure toolkit for building modern smart cities. Just as a city needs electricity grids, water systems, telecommunications, transportation networks, and emergency services to function properly, microservices need service discovery, communication protocols, monitoring systems, and coordination mechanisms. Spring Cloud provides pre-built, tested infrastructure components - like having standardized power grids, water treatment plants, and communication networks that you can deploy and connect rather than building from scratch. The toolkit includes blueprints for common city services: traffic management systems (API gateways), emergency response coordination (circuit breakers), city-wide communication networks (service discovery), and centralized utilities management (configuration servers). This allows city planners (developers) to focus on designing neighborhoods and buildings (business services) rather than figuring out how to distribute electricity or manage water pressure throughout the entire city.</p>

            <h3>Examples</h3>
            <p><strong>Spring Cloud dependencies:</strong></p>
            <pre><code class="language-xml"><!-- Adding Spring Cloud Eureka client dependency -->
<!-- Provides service discovery capabilities -->
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
    &lt;!-- Automatically configures service registration and discovery --&gt;
&lt;/dependency&gt;</code></pre>

            <p><strong>Eureka server setup:</strong></p>
            <pre><code class="language-java">// Creating a service discovery server with Eureka
// Other microservices register with this server
@SpringBootApplication
@EnableEurekaServer  // Enables Eureka server functionality
public class EurekaServerApplication {
    public static void main(String[] args) {
        SpringApplication.run(EurekaServerApplication.class, args);  // Start discovery server
    }
}
</code></pre>

            <p><strong>Config server:</strong></p>
            <pre><code class="language-java">// Centralized configuration management for microservices
// All services can get their configuration from this server
@SpringBootApplication
@EnableConfigServer  // Enables configuration server
public class ConfigServerApplication {
    // Centralized configuration management for all microservices
}
</code></pre>

            <p><strong>API Gateway routing:</strong></p>
            <pre><code class="language-yaml"># Spring Cloud Gateway configuration
# Routes requests to appropriate microservices
spring:
  cloud:
    gateway:
      routes:
      - id: user-service           # Route identifier
        uri: lb://user-service     # Load balanced URI to user-service
        predicates:
        - Path=/users/**           # Route all /users/** requests to user-service</code></pre>
          </section>

          <hr class="my-10 h-1 border-0 bg-slate-300 dark:bg-slate-700 rounded" />

          <section id="summary" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Summary</h2>
            <p>You've now explored the fundamental concepts of microservices architecture and understand both its benefits and challenges. Microservices offer powerful advantages for large-scale applications through independent development, deployment, and scaling, but they introduce new complexities around service coordination, data consistency, and distributed system management. You've learned key design principles like single responsibility, autonomous teams, and fault isolation that help microservices deliver their promised benefits. Service discovery enables dynamic service location and communication, while Spring Cloud provides a comprehensive toolkit for addressing distributed system challenges with proven patterns and production-ready solutions. Understanding these concepts prepares you for building modern, scalable applications that can grow with your organization's needs. In the next lesson, you'll dive deeper into microservices communication patterns and see how services coordinate to deliver complex business functionality across distributed systems.</p>
          </section>

          <section id="programming-challenge" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Programming Challenge</h2>
            <div class="rounded-lg border border-slate-200 bg-slate-50 p-6 dark:border-slate-700 dark:bg-slate-800">
              <h3 class="mt-0">Challenge: Simple Microservice Setup</h3>
              <p><strong>Task:</strong> Create two basic microservices to demonstrate fundamental microservices concepts.</p>

              <p><strong>Requirements:</strong></p>
              <ol>
                <li><strong>Create User Service:</strong></li>
                <ul>
                  <li>Create a <code>UserServiceApplication</code> with basic user management endpoints</li>
                  <li>Add a <code>UserController</code> with GET and POST endpoints</li>
                  <li>Configure service to run on port 8081</li>
                </ul>
                <li><strong>Create Order Service:</strong></li>
                <ul>
                  <li>Create an <code>OrderServiceApplication</code> with basic order management</li>
                  <li>Add an <code>OrderController</code> with order creation endpoint</li>
                  <li>Configure service to run on port 8082</li>
                </ul>
                <li><strong>Add service communication:</strong></li>
                <ul>
                  <li>Use <code>RestTemplate</code> or <code>WebClient</code> to call User Service from Order Service</li>
                  <li>Demonstrate inter-service communication</li>
                </ul>
              </ol>

              <p><strong>Learning Goals:</strong> Practice creating independent microservices, understand service separation, and implement basic inter-service communication patterns.</p>
            </div>
          </section>

          <section id="quiz" class="prose prose-slate mt-8 max-w-none dark:prose-invert">
            <h2>Quiz: Introduction to Microservices</h2>
            <div class="rounded-lg border border-slate-200 bg-slate-50 p-6 dark:border-slate-700 dark:bg-slate-800">
              <p class="mt-0 text-sm text-slate-600 dark:text-slate-400">Test your understanding of microservices architecture fundamentals.</p>

              <div class="space-y-6">
                <div class="quiz-question">
                  <h4 class="font-semibold">1. What is the primary characteristic of microservices architecture?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q1" value="a" class="mr-2"> a) Single large application with multiple modules</label>
                    <label class="flex items-center"><input type="radio" name="q1" value="b" class="mr-2"> b) Small, independent services communicating over APIs</label>
                    <label class="flex items-center"><input type="radio" name="q1" value="c" class="mr-2"> c) Shared database across all components</label>
                    <label class="flex items-center"><input type="radio" name="q1" value="d" class="mr-2"> d) Centralized configuration management</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">2. What is a major advantage of monolithic architecture over microservices?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q2" value="a" class="mr-2"> a) Better scalability</label>
                    <label class="flex items-center"><input type="radio" name="q2" value="b" class="mr-2"> b) Technology diversity</label>
                    <label class="flex items-center"><input type="radio" name="q2" value="c" class="mr-2"> c) Simpler development and deployment</label>
                    <label class="flex items-center"><input type="radio" name="q2" value="d" class="mr-2"> d) Independent team ownership</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">3. Which principle ensures that microservices can evolve independently?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q3" value="a" class="mr-2"> a) Shared databases</label>
                    <label class="flex items-center"><input type="radio" name="q3" value="b" class="mr-2"> b) Centralized governance</label>
                    <label class="flex items-center"><input type="radio" name="q3" value="c" class="mr-2"> c) Single responsibility and autonomous teams</label>
                    <label class="flex items-center"><input type="radio" name="q3" value="d" class="mr-2"> d) Synchronous communication</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">4. What is the purpose of service discovery in microservices?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q4" value="a" class="mr-2"> a) To encrypt communication between services</label>
                    <label class="flex items-center"><input type="radio" name="q4" value="b" class="mr-2"> b) To automatically locate and communicate with other services</label>
                    <label class="flex items-center"><input type="radio" name="q4" value="c" class="mr-2"> c) To store service configuration</label>
                    <label class="flex items-center"><input type="radio" name="q4" value="d" class="mr-2"> d) To monitor service performance</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">5. Which Spring Cloud component provides service discovery capabilities?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q5" value="a" class="mr-2"> a) Hystrix</label>
                    <label class="flex items-center"><input type="radio" name="q5" value="b" class="mr-2"> b) Eureka</label>
                    <label class="flex items-center"><input type="radio" name="q5" value="c" class="mr-2"> c) Gateway</label>
                    <label class="flex items-center"><input type="radio" name="q5" value="d" class="mr-2"> d) Config Server</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">6. What is a circuit breaker pattern used for in distributed systems?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q6" value="a" class="mr-2"> a) Load balancing requests</label>
                    <label class="flex items-center"><input type="radio" name="q6" value="b" class="mr-2"> b) Preventing cascade failures when a service is down</label>
                    <label class="flex items-center"><input type="radio" name="q6" value="c" class="mr-2"> c) Encrypting service communication</label>
                    <label class="flex items-center"><input type="radio" name="q6" value="d" class="mr-2"> d) Caching service responses</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">7. What challenge does eventual consistency address in microservices?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q7" value="a" class="mr-2"> a) Service discovery</label>
                    <label class="flex items-center"><input type="radio" name="q7" value="b" class="mr-2"> b) Network latency</label>
                    <label class="flex items-center"><input type="radio" name="q7" value="c" class="mr-2"> c) Data consistency across distributed services</label>
                    <label class="flex items-center"><input type="radio" name="q7" value="d" class="mr-2"> d) Load balancing</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">8. What is the main benefit of using Spring Cloud in microservices architecture?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q8" value="a" class="mr-2"> a) It replaces Spring Boot</label>
                    <label class="flex items-center"><input type="radio" name="q8" value="b" class="mr-2"> b) It provides ready-made solutions for distributed system challenges</label>
                    <label class="flex items-center"><input type="radio" name="q8" value="c" class="mr-2"> c) It eliminates the need for databases</label>
                    <label class="flex items-center"><input type="radio" name="q8" value="d" class="mr-2"> d) It makes applications run faster</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">9. What is distributed tracing primarily used for?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q9" value="a" class="mr-2"> a) Load balancing requests</label>
                    <label class="flex items-center"><input type="radio" name="q9" value="b" class="mr-2"> b) Tracking requests across multiple services</label>
                    <label class="flex items-center"><input type="radio" name="q9" value="c" class="mr-2"> c) Caching responses</label>
                    <label class="flex items-center"><input type="radio" name="q9" value="d" class="mr-2"> d) Service discovery</label>
                  </div>
                </div>

                <div class="quiz-question">
                  <h4 class="font-semibold">10. In an interview, how would you explain when to choose microservices over a monolith?</h4>
                  <div class="ml-4 space-y-1">
                    <label class="flex items-center"><input type="radio" name="q10" value="a" class="mr-2"> a) Always use microservices for better performance</label>
                    <label class="flex items-center"><input type="radio" name="q10" value="b" class="mr-2"> b) When you have large teams, complex domains, and need independent scaling</label>
                    <label class="flex items-center"><input type="radio" name="q10" value="c" class="mr-2"> c) Only for small applications</label>
                    <label class="flex items-center"><input type="radio" name="q10" value="d" class="mr-2"> d) When you want to use fewer servers</label>
                  </div>
                </div>
              </div>

              <div class="mt-6">
                <button onclick="checkAnswers()" class="rounded-lg bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700">Check Answers</button>
                <div id="quiz-results" class="mt-4 hidden">
                  <h5 class="font-semibold">Answers:</h5>
                  <p class="text-sm">1(b), 2(c), 3(c), 4(b), 5(b), 6(b), 7(c), 8(b), 9(b), 10(b)</p>
                  <div id="score" class="mt-2 font-semibold"></div>
                </div>
              </div>
            </div>
          </section>

          <script>
            function checkAnswers() {
              const answers = ['b','c','c','b','b','b','c','b','b','b'];
              let score = 0;

              for (let i = 1; i <= 10; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (selected && selected.value === answers[i-1]) {
                  score++;
                }
              }

              document.getElementById('quiz-results').classList.remove('hidden');
              const scoreElement = document.getElementById('score');
              const percentage = (score / 10 * 100).toFixed(0);
              scoreElement.textContent = `Your Score: ${score}/10 (${percentage}%)`;

              if (percentage >= 80) {
                scoreElement.className += ' text-green-600';
                scoreElement.textContent += ' - Excellent! You have a strong understanding of microservices fundamentals.';
              } else if (percentage >= 60) {
                scoreElement.className += ' text-yellow-600';
                scoreElement.textContent += ' - Good job! Review the topics you missed to strengthen your knowledge.';
              } else {
                scoreElement.className += ' text-red-600';
                scoreElement.textContent += ' - Keep studying! Review the lesson content and practice more.';
              }
            }
          </script>

          <nav class="mt-12 flex items-center justify-between border-t border-slate-200/60 pt-6 dark:border-slate-800/60">
            <a href="lesson-18.html" class="inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium shadow-sm hover:bg-slate-50 active:scale-95 dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800">Previous</a>
            <a href="lesson-20.html" class="inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium shadow-sm hover:bg-slate-50 active:scale-95 dark:border-slate-700 dark:bg-slate-900 dark:hover:bg-slate-800">Next</a>
          </nav>
        </div>
      </div>
    </main>

    <footer class="border-t border-slate-200/60 py-10 text-center text-sm text-slate-500 dark:border-slate-800/60 dark:text-slate-400">
      <div class="mx-auto max-w-7xl px-6">
        <p>¬© 2025 wassim lagnaoui. All rights reserved.</p>
      </div>
    </footer>

    <script>
      document.getElementById('themeToggle').addEventListener('click', function(){
        const r=document.documentElement; const d=r.classList.toggle('dark');
        try{localStorage.setItem('theme', d?'dark':'light');}catch{}
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
      if (window.Prism && Prism.plugins && Prism.plugins.autoloader) {
        Prism.plugins.autoloader.languages_path = 'https://cdn.jsdelivr.net/npm/prismjs@1/components/';
        Prism.highlightAll();
      }
    </script>
  </body>
</html>
